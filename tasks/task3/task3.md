## вопрос 1:

Объясните смысл и напишите формулы для следующих метрик производительности процессора IPC, CPI, Performance, Dynamic Power

---

`IPC` - среднее число исполняемых инструкций за такт.

$$ \text{IPC} = \frac{\text{instructions count}}{\text{clock cycles}} $$

`CPI` - среднее количество тактов, затрачиваемое на исполнение одной инструкции

$$ \text{CPI} = \frac{1}{\text{IPC}} $$

`Perfomance` - скорость исполнения последовательности инструкций.

$$ \text{Perfomance} = \frac{1}{\text{Time}} = \frac{1}{\text{N}_{instrs} * CPI * T_{cycle}} =
\frac{1}{\text{N}_{instrs}} * IPC * f $$

Последнее выражение также называется `Golden rule of CS`

`Dynamic Power` - мощность, которая расходуется на перезаряд емкостей транзисторов.

$$ P_{\text{dynamic}} = C_{eff} \times V^2 \times f $$

$f$ - тактовая частота

## вопрос 2:

Что такое суперскалярный (superscalar) процессор?

---

Суперскалярный процессор - это процессор, способный выполнять за такт несколько инструкций. Параллелизм достигается за счет нескольких одинаковых вычислительных устройств, таких как АЛУ, независимо обрабатывающих инструкции одного потока.

## вопрос 3:

Какие типы зависимостей по данным существуют? Приведите примеры аппаратных оптимизаций, которые позволяют сократить связанные задержки или разрешить каждый тип зависимостей.

---

`Read-after-write` - конфликт возникает, когда одна команда пишет в регистр, а следующая читает из него.

```
and %s0 %s1 %s3
add %t0 %s0 %s1
```

Оптимизация - пересылка данных через байпас. Данная оптимизация не всегда может работать. Для `load` команды, например, нужно дополнительно приостановить конвейер.

`Write-After-Read` зависимость:

```
and %s0 %s1 %s3
add %s3 %s1 %s2
```

При параллельном исполнении `%s3` может быть переписан второй инструкцией до чтения.

Оптимизация: динамическое переименование регистров.

`Write-After-Write` - две инструкции параллельно записывают данные в один регистр.

Оптимизация: динамическое переименование регистров.

## вопрос 4:

С какой целью инструкцию Store разделяют на микро-операции STA (Store address calculation) и STD (Store data calculation)?

---

## вопрос 7

Что такое Memory Disambiguation?

---



## вопрос 8

 В чем заключается проблема со спекулятивным исполнением Store инструкций?

---

Нет способа отменить выполенную store инструкцию.

## вопрос 9

Что такое Store forwarding и Load speculation в OOO процессоре?

---

- Store forwarding - если load и store обращаются к 1 адресу памяти, то load может взять данные непосредственно из предыдущей store инструкции, а не ждать, пока произойдет запись в память.
- Load speculation - спекулятивное разрешение load-store зависимостей. load исполняется, не дожидаясь STA. После STA результат должен быть верифицирован.

## вопрос 10

Что такое Simultaneous Multithreading?

---
